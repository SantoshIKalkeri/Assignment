<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
    <script src="Scripts/AngularJS/angular.js"></script>
    <script src="Scripts/AppScripts/App.js"></script>
    <script src="Scripts/AppScripts/contactService.js"></script>
    <script src="Scripts/AppScripts/contactController.js"></script>
</head>
<body ng-app="contactApp">
    <div ng-controller="contactController as CC">
        <form name="contactForm">
            <table>
                <tr>
                    <td>First Name:</td>
                    <td>
                        <input type="text" name="firstname" ng-model="CC.newContact.FirstName" required />
                        <span ng-show="contactForm.firstname.$dirty && contactForm.firstname.$invalid">FirstName is required</span>
                    </td>
                </tr>
                <tr>
                    <td>Last Name:</td>
                    <td>
                        <input type="text" name="lastname" ng-model="CC.newContact.LastName" required />
                        <span ng-show="contactForm.lastname.$dirty && contactForm.lastname.$invalid">LastName is required</span>
                    </td>
                </tr>
                <tr>
                    <td>Phone Number:</td>
                    <td>
                        <input type="text" name="phonenumber" ng-model="CC.newContact.PhoneNumber" required />
                        <span ng-show="contactForm.phonenumber.$dirty && contactForm.phonenumber.$invalid">PhoneNumber is required</span>
                    </td>
                </tr>
                <tr>
                    <td>Email:</td>
                    <td>
                        <input type="email" name="email" ng-model="CC.newContact.Email" required />
                        <span ng-show="contactForm.email.$dirty && contactForm.email.$invalid">Email is required</span>
                    </td>
                </tr>
                <tr>
                    <td>Active:</td>
                    <td>
                        <input type="checkbox" name="active" ng-model="CC.newContact.Active" />
                    </td>
                </tr>
                <tr>
                    <td>
                        <input type="hidden" ng-model="CC.newcontact.Id" />
                        <input type="button" value="Submit" ng-click="CC.editMode ? CC.updateContact(CC.newContact.Id, CC.newContact) : CC.addContact(CC.newContact)"
                               ng-disabled="contactForm.$invalid" class="btn btn-primary">
                    </td>
                </tr>
            </table>
        </form>
        <table border="1" cellspacing="0" ng-show="CC.contacts.length > 0">
            <thead>
                <tr>
                    <th>First Name</th>
                    <th>Last Name</th>
                    <th>Phone Number</th>
                    <th>Email</th>
                    <th>Active</th>
                    <th>Edit/Update</th>
                </tr>
            </thead>
            <tr ng-repeat="contact in CC.contacts">
                <td>{{contact.FirstName}}</td>
                <td>{{contact.LastName}}</td>
                <td>{{contact.PhoneNumber}}</td>
                <td>{{contact.Email}}</td>
                <td>{{contact.Active ? "Active":"InActive"}}</td><!--TODO - display text - -->
                <td>
                    <a href="#" ng-click="CC.editContact(contact.Id)">Modify</a> /
                    <a href="#" ng-click="CC.deleteContact(contact.Id)">Delete</a>
                </td>
            </tr>
        </table>
    </div>
</body>
</html>